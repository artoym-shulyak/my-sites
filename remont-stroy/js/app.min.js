(()=>{"use strict";const e=e=>{if("undefined"!=typeof Swiper)switch(e){case"your-flat":new Swiper(".your-flat__swiper",{loop:!0,slidesPerView:"auto",spaceBetween:40,centeredSlides:!0,speed:800,allowTouchMove:!1,pagination:{el:".your-flat__pagination",clickable:!0},navigation:{prevEl:".your-flat__prev",nextEl:".your-flat__next"}});break;case"ex-works":new Swiper(".ex-works__swiper",{loop:!0,slidesPerView:"auto",spaceBetween:40,centeredSlides:!0,observer:!0,observeParents:!0,touchRatio:0,speed:900,pagination:{el:".ex-works__pagination",clickable:!0},navigation:{prevEl:".ex-works__prev",nextEl:".ex-works__next"},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:40}}})}},t=e=>{if("undefined"!=typeof Swiper)switch(e){case"types-repairs":document.querySelectorAll(".types-repairs__swiper").forEach((e=>{const t=e.querySelector("._prev"),n=e.querySelector("._next");e&&t&&n&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:n},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}));break;case"service__swiper":document.querySelectorAll(".service__swiper").forEach((e=>{const t=e.querySelector("._prev"),n=e.querySelector("._next");e&&t&&n&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:n},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}));break;case"build-house":document.querySelectorAll(".build-house__swiper").forEach((e=>{const t=e.querySelector("._prev"),n=e.querySelector("._next");e&&t&&n&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:n},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}))}},n=(e,t)=>{document.querySelectorAll(e).forEach((e=>{e.querySelector(t).addEventListener("click",(()=>{!function(e){e.classList.toggle("_active")}(e)}))}))},r=()=>{const e=document.querySelector("body"),t=document.querySelector("#header"),n=document.querySelector(".fix-btns"),r=window.innerWidth-document.body.offsetWidth;e.style.marginRight=`${r}px`,t.style.paddingRight=`${r}px`,n.style.marginRight=`${r}px`,e.classList.add("lock")},c=()=>{const e=document.querySelector("body"),t=document.querySelector("#header");document.querySelector(".fix-btns").style.marginRight="0",t.style.paddingRight="0",e.style.marginRight="0",e.classList.remove("lock")},a=(e,t)=>{const n=document.querySelector(e),a=document.querySelector(t),o=a.querySelector("[data-close]");n&&a&&o&&(n.addEventListener("click",(e=>{e.preventDefault(),a.classList.add("_active"),r()})),o.addEventListener("click",(e=>{a.classList.remove("_active"),c()})),a.addEventListener("click",(e=>{e.target&&e.target===a&&(a.classList.remove("_active"),c())})))};document.addEventListener("DOMContentLoaded",(()=>{try{!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=Array.from(document.querySelectorAll(".lazy, source[data-srcset], [data-bg]")),t=e=>{if("IMG"===e.tagName){const t=e.getAttribute("data-src");t&&(e.src=t,e.onload=()=>e.classList.add("lazy-loaded"),e.onerror=()=>e.classList.add("lazy-error"),e.removeAttribute("data-src"))}else if("SOURCE"===e.tagName){const t=e.getAttribute("data-srcset");t&&(e.srcset=t,e.removeAttribute("data-srcset"))}};if("IntersectionObserver"in window){const n=new IntersectionObserver(((e,n)=>{e.forEach((e=>{e.isIntersecting&&(t(e.target),n.unobserve(e.target))}))}),{rootMargin:"200px 0px"});e.forEach((e=>n.observe(e)))}else{const n=()=>{e.forEach((e=>{r(e)&&t(e)}))},r=e=>e.getBoundingClientRect().top<window.innerHeight+200;window.addEventListener("scroll",n),window.addEventListener("resize",n),n()}})(),(()=>{try{const e=document.querySelector(".btn-pages"),t=document.querySelector(".pages"),n=t.querySelector("[data-close]");e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("_active"),r()})),n.addEventListener("click",(e=>{t.classList.remove("_active"),c()})),t.addEventListener("click",(e=>{e.target&&e.target===t&&(t.classList.remove("_active"),c())}))}catch(e){console.log(e)}})(),["-call","-call-up","-work","-base","-contacts"].forEach((e=>(e=>{const t=document.getElementById(`feedbackForm${e}`),n=document.getElementById(`your-name${e}`),r=document.getElementById(`your-phone${e}`),c=document.getElementById(`agreement${e}`),a=document.getElementById(`email${e}`),o=document.getElementById(`nameError${e}`),s=document.getElementById(`phoneError${e}`),i=document.getElementById(`agreementError${e}`);t&&n&&r&&a&&c&&o&&s&&i&&t.addEventListener("submit",(function(e){let t=!0;n.value.trim()?o.textContent="":(o.textContent="Пожалуйста, введите ваше имя.",t=!1),r.value.trim()?/^\+?\d{10,15}$/.test(r.value)?s.textContent="":(s.textContent="Пожалуйста, введите корректный номер телефона.",t=!1):(s.textContent="Пожалуйста, введите ваш телефон.",t=!1),c.checked?i.textContent="":(i.textContent="Вы должны согласиться на обработку персональных данных.",t=!1),a.value.trim()&&(t=!1),t||e.preventDefault()}))})(e))),(()=>{const e=document.getElementById("room-size"),t=document.getElementById("room-range"),n=document.querySelector(".hero__price"),r=document.querySelectorAll("input[name='repair_type']");function c(){const t=parseInt(e.value,10);let r;switch(document.querySelector("input[name='repair_type']:checked").value){case"Черновой":default:r=1e3;break;case"Косметический":r=2e3;break;case"Капитальный":r=3500;break;case"Дизайнерский":r=5e3}const c=t*r;n.textContent=c.toLocaleString()+" ₽"}function a(){const e=t.min,n=t.max,r=(t.value-e)/(n-e)*100;t.style.background=`linear-gradient(to right, #FF7A40 ${r}%, #E3E3E3 ${r}%)`}e&&t&&n&&r&&(e.addEventListener("blur",(()=>{e.value<20?e.value=20:e.value>160&&(e.value=160),t.value=e.value,c(),a()})),t.addEventListener("input",(()=>{e.value=t.value,c(),a()})),r.forEach((e=>e.addEventListener("change",(()=>{c(),a()})))),c(),a())})(),(()=>{try{const e=document.getElementById("room-size"),t=document.getElementById("room-range"),n=document.getElementById("ceiling-height"),r=document.getElementById("ceiling-range"),c=document.querySelectorAll("input[name='property-type']"),a=document.querySelectorAll("input[name='repair-type']"),o=document.querySelectorAll("input[name='demolition']"),s=document.querySelectorAll("input[name='wall-alignment']"),i=document.querySelectorAll("input[name='replanning']"),l=document.querySelectorAll("input[name='balcony']"),d=document.getElementById("work-cost"),u=document.getElementById("material-cost"),m=document.getElementById("total-cost");if(!(e&&t&&n&&r&&c&&a&&o&&s&&i&&i&&l&&d&&m))return;const p={propertyType:{new:1,secondary:1.1,country:1.2},repairType:{draft:3e3,cosmetic:5e3,capital:8e3,designer:12e3},extraServices:{demolition:200,wallAlignment:150,replanning:300,balcony:250}};function v(){const t=parseInt(e.value,10)||40,r=parseFloat(n.value)||2.3,c=document.querySelector("input[name='property-type']:checked").value,a=document.querySelector("input[name='repair-type']:checked").value;if(isNaN(t)||isNaN(r))return void console.error("Ошибка ввода: Некорректные данные");let o=p.repairType[a]*t*p.propertyType[c];o*=r/2.3;let s=.6*o;"Да"===document.querySelector("input[name='demolition']:checked").nextElementSibling.textContent&&(o+=p.extraServices.demolition*t),"Да"===document.querySelector("input[name='wall-alignment']:checked").nextElementSibling.textContent&&(o+=p.extraServices.wallAlignment*t),"Да"===document.querySelector("input[name='replanning']:checked").nextElementSibling.textContent&&(o+=p.extraServices.replanning*t),"Да"===document.querySelector("input[name='balcony']:checked").nextElementSibling.textContent&&(o+=p.extraServices.balcony*t),d.textContent=_(o),u.textContent=_(s),m.textContent=_(o+s)}function y(){const e=t.min,n=t.max,r=(t.value-e)/(n-e)*100;t.style.background=`linear-gradient(to right, #FF7A40 ${r}%, #E3E3E3 ${r}%)`}function g(){const e=r.min,t=r.max,n=(r.value-e)/(t-e)*100;r.style.background=`linear-gradient(to right, #FF7A40 ${n}%, #E3E3E3 ${n}%)`}function _(e){return Math.round(e).toLocaleString()}function w(e,t){e.addEventListener("input",(()=>{t.value=e.value,y(),g(),v()})),t.addEventListener("input",(()=>{e.value=t.value,y(),g(),v()}))}e.addEventListener("blur",(()=>{e.value<20?e.value=20:e.value>160&&(e.value=160),t.value=e.value,v(),y()})),n.addEventListener("blur",(()=>{n.value<2?n.value=2:n.value>3.2&&(n.value=3.2),r.value=n.value,v(),y()})),w(e,t),w(n,r),c.forEach((e=>e.addEventListener("change",v))),a.forEach((e=>e.addEventListener("change",v))),o.forEach((e=>e.addEventListener("change",v))),s.forEach((e=>e.addEventListener("change",v))),i.forEach((e=>e.addEventListener("change",v))),l.forEach((e=>e.addEventListener("change",v))),v()}catch(h){console.error("Ошибка в калькуляторе:",h)}})(),((e,t)=>{const n=document.querySelectorAll(e),r=document.querySelectorAll(t);function c(c){n.forEach((e=>{e.classList.remove("_active")})),r.forEach((e=>{e.classList.remove("_active")})),document.querySelector(`${e}[data-tab="${c}"]`).classList.add("_active"),document.querySelector(`${t}[data-tab-content="${c}"]`).classList.add("_active")}0!==n.length&&0!==r.length&&(n.forEach((e=>{e.addEventListener("click",(()=>{c(e.getAttribute("data-tab"))}))})),c(1))})(".types-repairs__tab",".types-repairs__wrapper"),(()=>{const e=document.querySelectorAll(".your-flat__beer");e.length<1||e.forEach((e=>{new BeerSlider(e)}))})(),t("service__swiper"),t("build-house"),["your-flat","ex-works"].forEach(e),(async()=>{const e=document.querySelector(".clients__swiper .swiper-wrapper");e&&((await async function(){return[{author:"Иван Иванов",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:5},{author:"Ольга Петрова",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:2},{author:"Ольга Петрова",text:"Оставил заявку на сайте, позвонили через пять минут и записали на замер, приехал мастер и сметчик, заключили договор и предоставили все документы, все этапы контролировались с помощью фото и видеосъемки. Ремонт в моей квартире был выполнен на самом высоком уровне. Мастера проявили профессионализм и внимательность к деталям. Квартира стала гораздо комфортнее и уютнее. Спасибо, за ремонт мечты.",rating:2},{author:"Ольга Петрова",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:4},{author:"Ольга Петрова",text:"Переехали с семьей из однушки в двушку, встал вопрос что делать с отделкой. Хочу выразить благодарность команде мастеров, которые провели недорого ремонт в моей квартире. Изначально хотел обратиться к частникам, но зная по опыту знакомых, все таки решил сделать заявку и заказ у фирмы. Все получилось высокого качества, все работы выполнены аккуратно и смогли закончить в срок в указанные даты. Ремонт прошел без лишних хлопот и стресса, что не скажешь про частных мастеров. Рекомендую.",rating:3}]}()).forEach((t=>{const n=document.createElement("div");n.classList.add("swiper-slide");let r="";for(let e=0;e<5;e++)r+=e<t.rating?'<img src="img/icon-star.png" alt=""/>':"";n.innerHTML=`\n            <p class="clients__comment">${t.text}</p>\n            <div class="clients__head">\n                <div class="clients__icon">\n                    <img src="img/icon-cows.svg" alt="" />\n                </div>\n                <div class="clients__info">\n                    <h4 class="clients__name">${t.author}</h4>\n                    <div class="clients__mark">\n                        ${r}\n                    </div>\n                </div>\n                <div class="clients__type">\n                    <img src="img/icon-yandex.svg" alt="" />\n                </div>\n            </div>\n        `,e.appendChild(n)})),"undefined"!=typeof Swiper&&new Swiper(".clients__swiper",{loop:!0,slidesPerView:3,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:".clients__prev",nextEl:".clients__next"},breakpoints:{320:{spaceBetween:10,slidesPerView:1},576:{spaceBetween:15,slidesPerView:1},768:{spaceBetween:20,slidesPerView:2},1024:{spaceBetween:30,slidesPerView:2},1200:{spaceBetween:20,slidesPerView:3},1362:{spaceBetween:30,slidesPerView:3}}}))})(),n(".questions__item",".questions__head"),n(".price-list__item",".price-list__head"),a("#call-btn","#call-modal"),a("#work-btn","#work-modal"),a("#up-btn","#up-modal"),(()=>{const e=document.querySelector("#misc-modal"),t=document.querySelector("#misc-btn"),n=e.querySelector("[data-close]");if(!t||!e||!n)return;const a=()=>{window.scrollY>0?e.classList.add("_min"):e.classList.remove("_min")};t.addEventListener("click",(n=>{n.preventDefault(),t.classList.toggle("_active"),e.classList.toggle("_active"),r(),a()})),n.addEventListener("click",(n=>{t.classList.remove("_active"),e.classList.remove("_active"),c()})),a()})(),[{query:"(min-width: 1024px)",callback:e=>e&&t("types-repairs")},{query:"(min-width: 768px)",callback:e=>e&&(()=>{const e=document.querySelector("#header"),t=e.querySelector(".header__top"),n=e.querySelector(".header__middle"),r=e.querySelector(".header__bottom"),c=e.querySelectorAll(".header__elems");if(!(e&&t&&n&&r))return;if(c.length<1)return;let a=window.scrollY;const o=e=>{e>1?(t.classList.add("_hide"),n.classList.add("_min"),r.classList.add("_min"),c.forEach((e=>{e.classList.add("_min")}))):(t.classList.remove("_hide"),n.classList.remove("_min"),r.classList.remove("_min"),c.forEach((e=>{e.classList.remove("_min")})))};o(window.scrollY),window.addEventListener("scroll",(()=>{const e=window.scrollY;e!==a&&(o(e),a=e)}))})()},{query:"(min-width: 1200px)",callback:e=>e&&(()=>{const e=document.querySelectorAll(".misc__wrap._first .misc__elem"),t=document.querySelectorAll(".misc__wrap._second .misc__list"),n=document.querySelectorAll(".misc__wrap._third .misc__list");e.forEach((e=>{e.addEventListener("mouseenter",(()=>{n.forEach((e=>e.classList.remove("_active")));const r=e.getAttribute("data-target"),c=document.querySelector(`.misc__wrap._second .misc__list[data-group="${r}"]`);t.forEach((e=>e.classList.remove("_active"))),c&&c.classList.add("_active")}))})),t.forEach((e=>{e.querySelectorAll(".misc__elem").forEach((e=>{e.addEventListener("mouseenter",(()=>{const t=e.getAttribute("data-target"),r=document.querySelector(`.misc__wrap._third .misc__list[data-group="${t}"]`);n.forEach((e=>e.classList.remove("_active"))),r&&r.classList.add("_active")}))}))}))})()},{query:"(max-width: 1200px)",callback:e=>{e&&((()=>{const e=document.querySelector("#burger-btn"),t=document.querySelector("#md-menu"),n=t.querySelector("[data-close]");e&&t&&n&&(e.addEventListener("click",(n=>{n.preventDefault(),e.classList.toggle("active"),t.classList.toggle("_active"),document.querySelector("body").classList.toggle("lock")})),n.addEventListener("click",(n=>{t.classList.remove("_active"),e.classList.remove("active"),document.querySelector("body").classList.remove("lock")})))})(),document.querySelectorAll(".md-menu__wrap").forEach((function(e){const t=e.querySelector(".md-menu__service"),n=e.querySelector(".md-menu__elems");t.addEventListener("click",(function(e){e.preventDefault(),n.classList.toggle("_show"),t.classList.toggle("_active")}))})))}}].forEach((({query:e,callback:t})=>{const n=window.matchMedia(e);t(n.matches),n.addEventListener("change",(e=>t(e.matches)))}))}catch(e){console.error("Ошибка выполнения скрипта:",e)}}))})();