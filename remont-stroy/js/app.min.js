(()=>{"use strict";const e=e=>{if("undefined"!=typeof Swiper)switch(e){case"your-flat":new Swiper(".your-flat__swiper",{loop:!0,slidesPerView:"auto",spaceBetween:40,centeredSlides:!0,speed:800,allowTouchMove:!1,pagination:{el:".your-flat__pagination",clickable:!0},navigation:{prevEl:".your-flat__prev",nextEl:".your-flat__next"}});break;case"ex-works":new Swiper(".ex-works__swiper",{loop:!0,slidesPerView:"auto",spaceBetween:40,centeredSlides:!0,observer:!0,observeParents:!0,touchRatio:0,speed:900,pagination:{el:".ex-works__pagination",clickable:!0},navigation:{prevEl:".ex-works__prev",nextEl:".ex-works__next"},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:40}}})}},t=e=>{if("undefined"!=typeof Swiper)switch(e){case"types-repairs":document.querySelectorAll(".types-repairs__swiper").forEach((e=>{const t=e.querySelector("._prev"),r=e.querySelector("._next");e&&t&&r&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:r},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}));break;case"service__swiper":document.querySelectorAll(".service__swiper").forEach((e=>{const t=e.querySelector("._prev"),r=e.querySelector("._next");e&&t&&r&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:r},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}));break;case"build-house":document.querySelectorAll(".build-house__swiper").forEach((e=>{const t=e.querySelector("._prev"),r=e.querySelector("._next");e&&t&&r&&new Swiper(e,{loop:!0,slidesPerView:1,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:t,nextEl:r},breakpoints:{320:{spaceBetween:10},576:{spaceBetween:20},1024:{spaceBetween:30}}})}))}},r=(e,t)=>{document.querySelectorAll(e).forEach((e=>{e.querySelector(t).addEventListener("click",(()=>{!function(e){e.classList.toggle("_active")}(e)}))}))},n=()=>{const e=document.querySelector("body"),t=document.querySelector("#header"),r=document.querySelector(".fix-btns"),n=window.innerWidth-document.body.offsetWidth;e.style.marginRight=`${n}px`,t.style.paddingRight=`${n}px`,r.style.marginRight=`${n}px`,e.classList.add("lock")},c=()=>{const e=document.querySelector("body"),t=document.querySelector("#header");document.querySelector(".fix-btns").style.marginRight="0",t.style.paddingRight="0",e.style.marginRight="0",e.classList.remove("lock")},s=(e,t)=>{const r=document.querySelector(e),s=document.querySelector(t),a=s.querySelector("[data-close]");r&&s&&a&&(r.addEventListener("click",(e=>{e.preventDefault(),s.classList.add("_active"),n()})),a.addEventListener("click",(e=>{s.classList.remove("_active"),c()})),s.addEventListener("click",(e=>{e.target&&e.target===s&&(s.classList.remove("_active"),c())})))};document.addEventListener("DOMContentLoaded",(()=>{try{!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=Array.from(document.querySelectorAll(".lazy, source[data-srcset], [data-bg]")),t=e=>{if("IMG"===e.tagName){const t=e.getAttribute("data-src");t&&(e.src=t,e.onload=()=>e.classList.add("lazy-loaded"),e.onerror=()=>e.classList.add("lazy-error"),e.removeAttribute("data-src"))}else if("SOURCE"===e.tagName){const t=e.getAttribute("data-srcset");t&&(e.srcset=t,e.removeAttribute("data-srcset"))}};if("IntersectionObserver"in window){const r=new IntersectionObserver(((e,r)=>{e.forEach((e=>{e.isIntersecting&&(t(e.target),r.unobserve(e.target))}))}),{rootMargin:"200px 0px"});e.forEach((e=>r.observe(e)))}else{const r=()=>{e.forEach((e=>{n(e)&&t(e)}))},n=e=>e.getBoundingClientRect().top<window.innerHeight+200;window.addEventListener("scroll",r),window.addEventListener("resize",r),r()}})(),(()=>{try{const e=document.querySelector(".btn-pages"),t=document.querySelector(".pages"),r=t.querySelector("[data-close]");e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("_active"),n()})),r.addEventListener("click",(e=>{t.classList.remove("_active"),c()})),t.addEventListener("click",(e=>{e.target&&e.target===t&&(t.classList.remove("_active"),c())}))}catch(e){console.log(e)}})(),["-call","-call-up","-work","-base","-contacts"].forEach((e=>(e=>{const t=document.getElementById(`feedbackForm${e}`),r=document.getElementById(`your-name${e}`),n=document.getElementById(`your-phone${e}`),c=document.getElementById(`agreement${e}`),s=document.getElementById(`email${e}`),a=document.getElementById(`nameError${e}`),o=document.getElementById(`phoneError${e}`),i=document.getElementById(`agreementError${e}`);t&&r&&n&&s&&c&&a&&o&&i&&t.addEventListener("submit",(function(e){let t=!0;r.value.trim()?a.textContent="":(a.textContent="Пожалуйста, введите ваше имя.",t=!1),n.value.trim()?/^\+?\d{10,15}$/.test(n.value)?o.textContent="":(o.textContent="Пожалуйста, введите корректный номер телефона.",t=!1):(o.textContent="Пожалуйста, введите ваш телефон.",t=!1),c.checked?i.textContent="":(i.textContent="Вы должны согласиться на обработку персональных данных.",t=!1),s.value.trim()&&(t=!1),t||e.preventDefault()}))})(e))),(()=>{const e=document.getElementById("room-size"),t=document.getElementById("room-range"),r=document.querySelector(".hero__price"),n=document.querySelectorAll("input[name='repair_type']");function c(){const t=parseInt(e.value,10);let n;switch(document.querySelector("input[name='repair_type']:checked").value){case"Черновой":n=12e3;break;case"Косметический":n=8e3;break;case"Капитальный":n=16e3;break;case"Дизайнерский":n=2e4;break;default:n=1e3}const c=t*n;r.textContent=c.toLocaleString()+" ₽"}function s(){const e=t.min,r=t.max,n=(t.value-e)/(r-e)*100;t.style.background=`linear-gradient(to right, #FF7A40 ${n}%, #E3E3E3 ${n}%)`}e&&t&&r&&n&&(e.addEventListener("blur",(()=>{e.value<20?e.value=20:e.value>160&&(e.value=160),t.value=e.value,c(),s()})),t.addEventListener("input",(()=>{e.value=t.value,c(),s()})),n.forEach((e=>e.addEventListener("change",(()=>{c(),s()})))),c(),s())})(),(()=>{try{const e=document.querySelector(".calc__body"),t=document.getElementById("room-size"),r=document.getElementById("room-range"),n=document.getElementById("work-cost"),c=document.getElementById("material-cost"),s=document.getElementById("total-cost");if(!(e&&t&&r&&n&&c&&s))return;const a={"property-type":{new:0,secondary:500,country:1e3},"repair-type":{draft:12e3,cosmetic:8e3,capital:16e3,designer:2e4},demolition:{yes:400,no:0},"wall-alignment":{yes:800,no:0},replanning:{yes:700,no:0},"ceiling-height":{250:0,275:300,300:600}},o=1e5;function i(){let r=0;const i=parseInt(t.value,10);Object.keys(a).forEach((t=>{const n=e.querySelector(`input[name="${t}"]:checked`).value;r+=a[t][n]*i})),"yes"===e.querySelector("input[name='bathrooms']:checked").value&&(r+=o);const l=Math.round(.4*r);let d=r+l;n.textContent=r.toLocaleString(),c.textContent=l.toLocaleString(),s.textContent=d.toLocaleString()}e.addEventListener("change",i),t.addEventListener("input",(e=>{r.value=e.target.value,i()})),r.addEventListener("input",(e=>{t.value=e.target.value,i()})),i()}catch(l){console.error("Ошибка при инициализации калькулятора:",l)}})(),((e,t)=>{const r=document.querySelectorAll(e),n=document.querySelectorAll(t);function c(c){r.forEach((e=>{e.classList.remove("_active")})),n.forEach((e=>{e.classList.remove("_active")})),document.querySelector(`${e}[data-tab="${c}"]`).classList.add("_active"),document.querySelector(`${t}[data-tab-content="${c}"]`).classList.add("_active")}0!==r.length&&0!==n.length&&(r.forEach((e=>{e.addEventListener("click",(()=>{c(e.getAttribute("data-tab"))}))})),c(1))})(".types-repairs__tab",".types-repairs__wrapper"),(()=>{const e=document.querySelectorAll(".your-flat__beer");e.length<1||e.forEach((e=>{new BeerSlider(e)}))})(),t("service__swiper"),t("build-house"),["your-flat","ex-works"].forEach(e),(async()=>{const e=document.querySelector(".clients__swiper .swiper-wrapper");e&&((await async function(){return[{author:"Иван Иванов",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:5},{author:"Ольга Петрова",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:2},{author:"Ольга Петрова",text:"Оставил заявку на сайте, позвонили через пять минут и записали на замер, приехал мастер и сметчик, заключили договор и предоставили все документы, все этапы контролировались с помощью фото и видеосъемки. Ремонт в моей квартире был выполнен на самом высоком уровне. Мастера проявили профессионализм и внимательность к деталям. Квартира стала гораздо комфортнее и уютнее. Спасибо, за ремонт мечты.",rating:2},{author:"Ольга Петрова",text:"Я очень довольна прекрасным результатом ремонта моей квартиры, особенно ребятами, которые справились, а также особенно что уложилась в свой бюджет по деньгам! Я на время ремонта уезжала на съемную квартиру, все отчеты получала фотографиями. Мастера были профессиональными и внимательными к моим пожеланиям, что является огромным плюсом. То что получилось даже без дизайна и проектов - супер красиво.",rating:4},{author:"Ольга Петрова",text:"Переехали с семьей из однушки в двушку, встал вопрос что делать с отделкой. Хочу выразить благодарность команде мастеров, которые провели недорого ремонт в моей квартире. Изначально хотел обратиться к частникам, но зная по опыту знакомых, все таки решил сделать заявку и заказ у фирмы. Все получилось высокого качества, все работы выполнены аккуратно и смогли закончить в срок в указанные даты. Ремонт прошел без лишних хлопот и стресса, что не скажешь про частных мастеров. Рекомендую.",rating:3}]}()).forEach((t=>{const r=document.createElement("div");r.classList.add("swiper-slide");let n="";for(let e=0;e<5;e++)n+=e<t.rating?'<img src="img/icon-star.png" alt=""/>':"";r.innerHTML=`\n            <p class="clients__comment">${t.text}</p>\n            <div class="clients__head">\n                <div class="clients__icon">\n                    <img src="img/icon-cows.svg" alt="" />\n                </div>\n                <div class="clients__info">\n                    <h4 class="clients__name">${t.author}</h4>\n                    <div class="clients__mark">\n                        ${n}\n                    </div>\n                </div>\n                <div class="clients__type">\n                    <img src="img/icon-yandex.svg" alt="" />\n                </div>\n            </div>\n        `,e.appendChild(r)})),"undefined"!=typeof Swiper&&new Swiper(".clients__swiper",{loop:!0,slidesPerView:3,spaceBetween:30,observer:!0,observeParents:!0,touchRatio:0,speed:900,navigation:{prevEl:".clients__prev",nextEl:".clients__next"},breakpoints:{320:{spaceBetween:10,slidesPerView:1},576:{spaceBetween:15,slidesPerView:1},768:{spaceBetween:20,slidesPerView:2},1024:{spaceBetween:30,slidesPerView:2},1200:{spaceBetween:20,slidesPerView:3},1362:{spaceBetween:30,slidesPerView:3}}}))})(),r(".questions__item",".questions__head"),r(".price-list__item",".price-list__head"),s("#call-btn","#call-modal"),s("#work-btn","#work-modal"),s("#up-btn","#up-modal"),(()=>{const e=document.querySelector("#misc-modal"),t=document.querySelector("#misc-btn"),r=e.querySelector("[data-close]");if(!t||!e||!r)return;const s=()=>{window.scrollY>0?e.classList.add("_min"):e.classList.remove("_min")};t.addEventListener("click",(r=>{r.preventDefault(),t.classList.toggle("_active"),e.classList.toggle("_active"),n(),s()})),r.addEventListener("click",(r=>{t.classList.remove("_active"),e.classList.remove("_active"),c()})),s()})(),[{query:"(min-width: 1024px)",callback:e=>e&&t("types-repairs")},{query:"(min-width: 768px)",callback:e=>e&&(()=>{const e=document.querySelector("#header"),t=e.querySelector(".header__top"),r=e.querySelector(".header__middle"),n=e.querySelector(".header__bottom"),c=e.querySelectorAll(".header__elems");if(!(e&&t&&r&&n))return;if(c.length<1)return;let s=window.scrollY;const a=e=>{e>1?(t.classList.add("_hide"),r.classList.add("_min"),n.classList.add("_min"),c.forEach((e=>{e.classList.add("_min")}))):(t.classList.remove("_hide"),r.classList.remove("_min"),n.classList.remove("_min"),c.forEach((e=>{e.classList.remove("_min")})))};a(window.scrollY),window.addEventListener("scroll",(()=>{const e=window.scrollY;e!==s&&(a(e),s=e)}))})()},{query:"(min-width: 1200px)",callback:e=>e&&(()=>{const e=document.querySelectorAll(".misc__wrap._first .misc__elem"),t=document.querySelectorAll(".misc__wrap._second .misc__list"),r=document.querySelectorAll(".misc__wrap._third .misc__list");e.forEach((e=>{e.addEventListener("mouseenter",(()=>{r.forEach((e=>e.classList.remove("_active")));const n=e.getAttribute("data-target"),c=document.querySelector(`.misc__wrap._second .misc__list[data-group="${n}"]`);t.forEach((e=>e.classList.remove("_active"))),c&&c.classList.add("_active")}))})),t.forEach((e=>{e.querySelectorAll(".misc__elem").forEach((e=>{e.addEventListener("mouseenter",(()=>{const t=e.getAttribute("data-target"),n=document.querySelector(`.misc__wrap._third .misc__list[data-group="${t}"]`);r.forEach((e=>e.classList.remove("_active"))),n&&n.classList.add("_active")}))}))}))})()},{query:"(max-width: 1200px)",callback:e=>{e&&((()=>{const e=document.querySelector("#burger-btn"),t=document.querySelector("#md-menu"),r=t.querySelector("[data-close]");e&&t&&r&&(e.addEventListener("click",(r=>{r.preventDefault(),e.classList.toggle("active"),t.classList.toggle("_active"),document.querySelector("body").classList.toggle("lock")})),r.addEventListener("click",(r=>{t.classList.remove("_active"),e.classList.remove("active"),document.querySelector("body").classList.remove("lock")})))})(),document.querySelectorAll(".md-menu__wrap").forEach((function(e){const t=e.querySelector(".md-menu__service"),r=e.querySelector(".md-menu__elems");t.addEventListener("click",(function(e){e.preventDefault(),r.classList.toggle("_show"),t.classList.toggle("_active")}))})))}}].forEach((({query:e,callback:t})=>{const r=window.matchMedia(e);t(r.matches),r.addEventListener("change",(e=>t(e.matches)))}))}catch(e){console.error("Ошибка выполнения скрипта:",e)}}))})();