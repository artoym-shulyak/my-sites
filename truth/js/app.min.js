(()=>{"use strict";const e=()=>new Swiper(".our-initiatives__swiper",{loop:!1,spaceBetween:8,effect:"slide",preloadImages:!0,slidesPerView:1,breakpoints:{992:{simulateTouch:!1,allowTouchMove:!1}}}),t=(e,t,s,o,r)=>{try{const n=document.querySelector(".about__swiper"),c=n.querySelector(".about__wrapper");let a=Array.from(c.querySelectorAll(".about__slider"));const i=a[0].offsetWidth+s,d=t;let l=d;function u(e){e<0?e=a.length-1:e>=a.length&&(e=0),a.forEach((e=>e.classList.remove("active"))),a[e].classList.add("active");const t=(e-d)*i;c.style.transition="transform 0.3s ease",c.style.transform=`translateX(-${t}px)`,l=e,a.forEach(((e,t)=>{t<l-1||t>l+o?(e.setAttribute("disabled","true"),e.classList.add("disabled")):(e.removeAttribute("disabled"),e.classList.remove("disabled"))}))}function m(e){e>=l-1&&e<=l+r&&u(e)}function b(e){u(l+e)}a.forEach(((e,t)=>{(t<l-1||t>l+r)&&(e.setAttribute("disabled","true"),e.classList.add("disabled")),e.addEventListener("click",(()=>{e.classList.contains("disabled")||m(t)}))})),u(l),n.addEventListener("swipeleft",(()=>b(1))),n.addEventListener("swiperight",(()=>b(-1)))}catch(w){console.log(w)}},s=()=>new Swiper(".about__bm-swiper",{loop:!0,spaceBetween:8,slidesPerView:1,speed:300,autoHeight:!0}),o=()=>{const e=document.querySelector(".header__burger"),t=document.querySelector(".modal-menu"),s=document.querySelector(".modal-menu__close"),o=document.querySelector(".modal-menu__backdrop");e.addEventListener("click",(()=>{t.classList.add("active"),document.body.classList.add("lock")})),s.addEventListener("click",(()=>{t.classList.remove("active"),document.body.classList.remove("lock")})),o.addEventListener("click",(()=>{t.classList.remove("active"),document.body.classList.remove("lock")}))};document.addEventListener("DOMContentLoaded",(()=>{try{!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=Array.from(document.querySelectorAll(".lazy, source[data-srcset]")),t=e=>{if("IMG"===e.tagName){const t=e.getAttribute("data-src");t&&(e.src=t,e.onload=()=>e.classList.add("lazy-loaded"),e.onerror=()=>e.classList.add("lazy-error"),e.removeAttribute("data-src"))}else if("SOURCE"===e.tagName){const t=e.getAttribute("data-srcset");t&&(e.srcset=t,e.removeAttribute("data-srcset"))}};if("IntersectionObserver"in window){const s=new IntersectionObserver(((e,s)=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target;t(o),s.unobserve(o)}}))}));e.forEach((e=>s.observe(e)))}else{const s=()=>{e.forEach((e=>{o(e)&&t(e)}))},o=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};window.addEventListener("scroll",s),window.addEventListener("resize",s),s()}})();const r=window.matchMedia("(max-width: 991px)");r.matches&&(e(),s(),o()),t(0,1,16,8,8),r.addEventListener("change",(r=>{r.matches?(e(),s(),o()):t(0,1,16,8,8)}))}catch(e){console.error("Ошибка выполнения скрипта:",e)}}))})();