(()=>{"use strict";const e=()=>new Swiper(".our-initiatives__swiper",{loop:!1,spaceBetween:8,effect:"slide",preloadImages:!0,slidesPerView:1});document.addEventListener("DOMContentLoaded",(()=>{try{!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=Array.from(document.querySelectorAll(".lazy")),t=e=>{const t=e.getAttribute("data-src");t&&(e.src=t,e.onload=()=>{e.classList.add("lazy-loaded")},e.onerror=()=>{console.error(`Не удалось загрузить изображение: ${t}`),e.classList.add("lazy-error")},e.removeAttribute("data-src"))};if("IntersectionObserver"in window){const i=new IntersectionObserver(((e,i)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;t(n),i.unobserve(n)}}))}));e.forEach((e=>i.observe(e)))}else{const i=()=>{e.forEach((e=>{n(e)&&t(e)}))},n=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};window.addEventListener("scroll",i),window.addEventListener("resize",i),i()}})();const t=window.matchMedia("(max-width: 991px)");t.matches&&e(),(()=>{const e=new Swiper(".about__swiper",{loop:!0,effect:"slide",autoHeight:!0,preloadImages:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,centeredSlides:!1,initialSlide:1,speed:2e3,observer:!0,observeParents:!0,breakpoints:{320:{spaceBetween:8,slidesPerView:1,initialSlide:1},992:{slidesPerView:6,spaceBetween:8,initialSlide:1},1200:{slidesPerView:9,spaceBetween:0,initialSlide:1}}});e.slides.forEach((t=>{t.addEventListener("click",(()=>{const i=t.getAttribute("data-swiper-slide-index");e.slideToLoop(parseInt(i),800)}))}))})(),(()=>{const e=document.querySelector(".header__burger"),t=document.querySelector(".modal-menu"),i=document.querySelector(".modal-menu__close"),n=document.querySelector(".modal-menu__backdrop");e.addEventListener("click",(()=>{t.classList.add("active"),document.body.classList.add("lock")})),i.addEventListener("click",(()=>{t.classList.remove("active")})),n.addEventListener("click",(()=>{t.classList.remove("active")}))})(),t.addEventListener("change",(t=>{t.matches&&e()}))}catch(e){console.error("Ошибка выполнения скрипта:",e)}}))})();